/* Стили проектов админки */
.projects-list{
  background:var(--card-bg);
  padding:2rem;
  border-radius:var(--radius);
  box-shadow:var(--card-shadow);
}
.projects-list h2{
  margin:0 0 1.25rem;
  color:var(--text-700);
}

/* Строка проекта */
.project-item{
  display:flex;
  align-items:flex-start;
  justify-content:space-between;
  gap:1rem;

  padding:1.25rem 1.5rem;
  border-bottom:1px solid var(--line);
  user-select:none;
  cursor:default;
  transition:background .2s ease, box-shadow .2s ease;
}
.project-item:last-child{ border-bottom:none; }
.project-item:hover{ background:var(--hover); }

.project-info{ flex:1; }
.project-info-flex{
  display:flex;
  align-items:center;
  gap:1rem;
}
.project-info h3{
  margin:0 0 .4rem;
  color:var(--text-700);
  font-weight:600;
}
.project-info p{
  margin:0 0 .4rem;
  color:var(--text-500);
}
.project-info small{
  color:#888888;
  line-height:1.4;
}

.project-actions{
  display:flex;
  gap:.5rem;
  flex-shrink:0;
}

/* Drag & Drop */
.sortable-list{ min-height:200px; }
.project-item.sortable-ghost{ opacity:.45; background:#eef6ff; }
.project-item.sortable-chosen{ background:#f3f8ff; box-shadow:0 5px 15px rgba(0,0,0,.15); animation:dragStart .2s ease-out; }
@keyframes dragStart{
  from{ transform:scale(1); }
  to{ transform:scale(1.02); }
}

/* Хэндл перетаскивания */
.drag-handle{
  margin-right:.5rem;
  padding:.5rem;
  font-size:1.1rem;
  color:#888888;
  cursor:grab;
  transition:color .2s ease;
}
.drag-handle:hover{ color:var(--text-600); }
.drag-handle:active{ cursor:grabbing; }
.drag-handle:focus{
  outline:2px solid var(--focus-ring);
  outline-offset:2px;
}

/* Миниатюра проекта */
.project-thumbnail{
  width:60px; height:45px;
  flex-shrink:0;
  overflow:hidden;
  border-radius:6px;
  background:#f5f5f5;
  border:2px solid #dddddd;
  transition:border-color .2s ease;
}
.project-thumbnail:hover{ border-color:var(--brand); }
.project-thumbnail img{
  width:100%; height:100%;
  object-fit:cover;
  transition:transform .25s ease;
}
.project-thumbnail:hover img{ transform:scale(1.05); }

/* Плейсхолдер (если нет изображения) */
.no-image{
  width:100%; height:100%;
  display:flex; align-items:center; justify-content:center;
  font-size:1.25rem; color:var(--muted);
  background:
    linear-gradient(45deg,var(--hover) 25%,transparent 25%),
    linear-gradient(-45deg,var(--hover) 25%,transparent 25%),
    linear-gradient(45deg,transparent 75%,var(--hover) 75%),
    linear-gradient(-45deg,transparent 75%,var(--hover) 75%);
  background-size:10px 10px;
  background-position:0 0,0 5px,5px -5px,-5px 0;
}

/* Подсветка найденного проекта (?focus_id) */
.project-item.project-focus{
  background:#fff7cc;
  box-shadow:inset 0 0 0 2px #facc15, 0 6px 20px rgba(0,0,0,.08);
  position:relative; z-index:1;
  transition:background .2s ease, box-shadow .2s ease;
}
.project-item.project-focus::after{
  content:""; position:absolute; inset:0; border-radius:8px;
  animation:focusPulse 1.4s ease-out 2; pointer-events:none;
}
@keyframes focusPulse{
  0%{   box-shadow:0 0 0 0 rgba(250,204,21,.55); }
  70%{  box-shadow:0 0 0 14px rgba(250,204,21,0); }
  100%{ box-shadow:0 0 0 0 rgba(250,204,21,0); }
}

/* Статусы (опционально) */
.project-status{
  display:inline-flex; align-items:center; gap:.25rem;
  padding:.25rem .5rem; border-radius:12px;
  font-size:.8rem; font-weight:500;
}
.project-status.featured{  background:#e8f4fd; color:#2c5aa0; }
.project-status.draft{     background:#fff3cd; color:#856404; }
.project-status.published{ background:#d4edda; color:#155724; }

/* Инлайн статусы featured в списке проектов */
.featured-yes { color: #4A90E2; font-weight: bold; }
.featured-no { color: #999; }

/* Утилитарные классы для отступов */
.mt-1, .project-upload-form { margin-top: 1rem; }

/* Статистика (опционально) */
.project-stats{
  display:flex; gap:1rem;
  margin:0 0 1rem; padding:1rem;
  background:var(--bg); border-radius:6px;
  font-size:.9rem; color:var(--text-500);
}
.project-stats .stat-item{ display:flex; align-items:center; gap:.5rem; }
.project-stats .stat-value{ font-weight:700; color:var(--brand); }

/* ============================================
   АДАПТИВНОСТЬ ПРОЕКТОВ
   ============================================ */

/* Планшеты (< 768px) */
@media (max-width:768px){
  /* Карточка проектов */
  .projects-list {
    padding: 1.5rem;
  }

  /* Элемент проекта - вертикальная раскладка */
  .project-item {
    flex-direction: column;
    align-items: stretch;
    padding: 1rem;
    gap: 0.75rem;
  }

  /* Информация о проекте */
  .project-info h3 {
    font-size: 1.1rem;
  }

  .project-info p {
    font-size: 0.9rem;
  }

  .project-info small {
    font-size: 0.75rem;
  }

  /* Кнопки действий */
  .project-actions {
    margin-top: 0.75rem;
    justify-content: flex-start;
    flex-wrap: wrap;
    gap: 0.5rem;
  }

  .project-actions .btn {
    flex: 1;
    min-width: 120px;
  }

  /* Миниатюра и хэндл */
  .project-thumbnail {
    width: 80px;
    height: 60px;
  }

  .drag-handle {
    padding: 0.25rem;
    font-size: 1rem;
  }

  /* Статистика */
  .project-stats {
    flex-direction: column;
    gap: 0.5rem;
    padding: 0.75rem;
  }

  /* Статусы */
  .project-status {
    font-size: 0.75rem;
  }
}

/* Мобильные (< 480px) */
@media (max-width:480px){
  /* Карточка проектов */
  .projects-list {
    padding: 1rem;
  }

  /* Элемент проекта */
  .project-item {
    padding: 0.75rem;
    gap: 0.5rem;
  }

  /* Информация о проекте */
  .project-info h3 {
    font-size: 1rem;
  }

  .project-info p {
    font-size: 0.85rem;
  }

  /* Кнопки действий - на всю ширину */
  .project-actions {
    flex-direction: column;
    gap: 0.5rem;
  }

  .project-actions .btn {
    width: 100%;
    min-width: 0;
    padding: 0.6rem 1rem;
  }

  /* Миниатюра меньше */
  .project-thumbnail {
    width: 50px;
    height: 38px;
  }

  .drag-handle {
    font-size: 0.9rem;
  }

  /* Статусы */
  .project-status {
    font-size: 0.7rem;
    padding: 0.2rem 0.4rem;
  }
}
