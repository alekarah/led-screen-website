/* Стили дашборда админки */
.dashboard-card{
  background:var(--card-bg);
  border-radius:var(--radius);
  box-shadow:var(--card-shadow);
}

/* Ссылка для stat-card без подчеркивания */
.stat-card-link{
  text-decoration: none;
  color: inherit;
}

/* Компактный контейнер секции */
.dashboard-analytics { margin: 0; }

/* Таблица Top-5 (строго в скоупе dashboard-analytics) */
.dashboard-analytics .mini-table{
  width:100%;
  border-collapse:collapse;
  table-layout:fixed;
  background:#fff;
  border-radius:10px;
  overflow:hidden;
}
.dashboard-analytics .mini-table th,
.dashboard-analytics .mini-table td{
  padding:10px 12px;
  vertical-align:middle;
  border-top:1px solid var(--line);
  font-size:17px;
  line-height:1.35;
  color:var(--text-900);
  text-align:left;
}
.dashboard-analytics .mini-table thead th{
  background:var(--hover);
  font-size:.9rem;
  font-weight:600;
  border-top:none;
  color:#555;
}

/* Колонки: # | Проект | Просмотры | Сброс */
.dashboard-analytics .mini-table th:first-child,
.dashboard-analytics .mini-table td:first-child{
  width:100px;
  text-align:center;
  padding-right:6px;
  color:var(--brand);
  font-weight:700;
  font-size:22px;
}

.dashboard-analytics .mini-table th:nth-child(2),
.dashboard-analytics .mini-table td.project-cell{
  width:auto;
  min-width:0;
}

.dashboard-analytics .mini-table th:nth-child(3),
.dashboard-analytics .mini-table td.views{
  width:140px;
  white-space:nowrap;
  font-variant-numeric:tabular-nums;
  font-weight:600;
}

.dashboard-analytics .mini-table th.reset-col,
.dashboard-analytics .mini-table td.reset-col{
  width:132px;
  white-space:nowrap;
}

/* Ховер по строке */
.dashboard-analytics .mini-table tbody tr:hover td{ background:var(--hover); }

/* Разделительная полоса между thead и tbody */
.dashboard-analytics .mini-table thead{ border-bottom:2px solid var(--brand-200); }
.dashboard-analytics .mini-table tbody tr:first-child td{ border-top:none; }

/* Ссылка-название проекта */
.dashboard-analytics .project-link{
  display:inline-block;
  max-width:100%;
  color:var(--text-900);
  text-decoration:none;
  overflow:hidden;
  text-overflow:ellipsis;
  white-space:nowrap;
  font-weight:600;
}
.dashboard-analytics .project-link:hover{ text-decoration:underline; }

/* Тултип справа от текста (только в аналитике) */
.dashboard-analytics .project-cell .project-tt{ 
    position:relative; 
    display:inline-block; 
}
.dashboard-analytics .project-tooltip{
  position:absolute;
  top:50%;
  left:calc(100% + 12px);
  transform:translateY(-50%) scale(.98);
  transform-origin:left center;
  z-index:60;
  width:420px; 
  max-width:48ch;
  padding:12px 14px;
  background:#fff;
  border:1px solid var(--line-soft);
  border-radius:10px;
  box-shadow:0 10px 24px rgba(0,0,0,.1);
  opacity:0; 
  visibility:hidden;
  transition:opacity .15s ease, transform .15s ease, visibility .15s step-end;
  pointer-events:none;
}
.dashboard-analytics .project-tooltip::before{
  content:"";
  position:absolute; 
  left:-6px; 
  top:50%;
  transform:translateY(-50%);
  border:6px solid transparent; 
  border-right-color:#fff;
  filter:drop-shadow(-1px 0 0 rgba(0,0,0,.05));
}
.dashboard-analytics .project-tooltip .desc{
  color:var(--text-600); 
  font-size:14px; 
  line-height:1.45;
  max-height:12.5em; 
  overflow-y:auto;
}
.dashboard-analytics .project-cell .project-tt:hover .project-tooltip,
.dashboard-analytics .project-cell .project-tt:focus-within .project-tooltip{
  opacity:1; 
  visibility:visible; 
  transform:translateY(-50%) scale(1);
  transition:opacity .15s ease, transform .15s ease, visibility 0s;
}

/* Тач: тултип выключаем */
@media (pointer:coarse){
  .dashboard-analytics .project-tooltip{ display:none !important; }
}

/* ============================================
   АДАПТИВНОСТЬ ДАШБОРДА
   ============================================ */

/* Планшеты (< 768px) */
@media (max-width: 768px){
  /* График - меньше высота */
  .chart-box {
    height: 220px;
  }

  /* Система - адаптивная сетка */
  .sys-grid {
    grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
  }

  .sys-item {
    padding: 10px 12px;
  }

  .sys-label {
    font-size: 11px;
  }

  .sys-value {
    font-size: 14px;
  }

  /* Таблица Top-5 - горизонтальный скролл */
  .dashboard-analytics {
    overflow-x: auto;
    -webkit-overflow-scrolling: touch;
    margin: 0 -10px;
    padding: 0 10px;
  }

  .dashboard-analytics .mini-table {
    min-width: 600px;
    font-size: 15px;
  }

  .dashboard-analytics .mini-table th,
  .dashboard-analytics .mini-table td {
    padding: 8px 10px;
  }

  .dashboard-analytics .mini-table th:first-child,
  .dashboard-analytics .mini-table td:first-child {
    font-size: 18px;
    width: 80px;
  }

  .dashboard-analytics .mini-table th:nth-child(3),
  .dashboard-analytics .mini-table td.views {
    width: 120px;
  }

  .dashboard-analytics .mini-table th.reset-col,
  .dashboard-analytics .mini-table td.reset-col {
    width: 110px;
  }
}

/* Мобильные (< 480px) */
@media (max-width: 480px){
  /* График - еще меньше */
  .chart-box {
    height: 180px;
  }

  /* Система - одна колонка */
  .sys-grid {
    grid-template-columns: 1fr;
  }

  /* Таблица Top-5 - упрощенный вид */
  .dashboard-analytics .mini-table {
    min-width: 500px;
    font-size: 13px;
  }

  .dashboard-analytics .mini-table th,
  .dashboard-analytics .mini-table td {
    padding: 6px 8px;
  }

  .dashboard-analytics .mini-table th:first-child,
  .dashboard-analytics .mini-table td:first-child {
    font-size: 16px;
    width: 60px;
    padding-right: 4px;
  }

  .dashboard-analytics .mini-table th:nth-child(3),
  .dashboard-analytics .mini-table td.views {
    width: 100px;
    font-size: 12px;
  }

  .dashboard-analytics .mini-table th.reset-col,
  .dashboard-analytics .mini-table td.reset-col {
    width: 90px;
  }

  .dashboard-analytics .mini-table .btn-link {
    font-size: 11px;
    padding: 2px 4px;
  }

  /* Название проекта - меньше отступы */
  .dashboard-analytics .project-link {
    font-size: 13px;
  }
}
