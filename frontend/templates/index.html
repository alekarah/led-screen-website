{{define "home-content"}}
<!-- Hero Section -->
<section class="hero">
    <div class="container">
        <h1>LED экраны для вашего бизнеса</h1>
        <p>Продажа, монтаж и обслуживание LED дисплеев в Санкт-Петербурге и Ленинградской области</p>
        <a href="/contact" class="btn btn-hero">Получить консультацию</a>
    </div>
</section>

<!-- Services Section -->
<section class="services">
    <div class="container">
        <h2>Наши услуги</h2>
        <div class="services-grid">
            {{range .services}}
            <div class="service-card">
                <h3>{{.Name}}</h3>
                <p>{{.ShortDesc}}</p>
            </div>
            {{end}}
        </div>
    </div>
</section>

<!-- Projects Section -->
<section class="projects">
    <div class="container">
        <h2>Последние проекты</h2>
        <div class="projects-grid">
            {{range .projects}}
            <div class="public-project-card">
                {{if .Images}}
                    {{$firstImage := index .Images 0}}
                    <div class="project-image-rect">
                        <img src="/static/uploads/{{$firstImage.Filename}}" 
                            alt="{{.Title}}" 
                            loading="lazy"
                            style="transform: scale({{if $firstImage.CropScale}}{{$firstImage.CropScale}}{{else}}1{{end}}) translate({{if $firstImage.CropX}}{{printf "%.0f" $firstImage.CropX}}{{else}}0{{end}}%, {{if $firstImage.CropY}}{{printf "%.0f" $firstImage.CropY}}{{else}}0{{end}}%); object-position: center center; transform-origin: center center;">
                    </div>
                {{else}}
                    <div class="project-image-rect">
                        <img src="/static/images/placeholder.jpg" alt="{{.Title}}" loading="lazy">
                    </div>
                {{end}}
                <div class="project-card-content">
                    <h3>{{.Title}}</h3>
                    {{if .Size}}
                    <div class="project-size">{{.Size}}</div>
                    {{end}}
                    <p>{{.Description}}</p>
                    {{if or .PixelPitch .Location}}
                    <div class="project-meta">
                        {{if .PixelPitch}}Пиксель: {{.PixelPitch}}{{end}}
                        {{if .Location}}<br>{{.Location}}{{end}}
                    </div>
                    {{end}}
                </div>
            </div>
            {{end}}
        </div>
    </div>
</section>
{{end}}

{{define "home-footer"}}
<footer class="simple-footer">
    <div class="container">
        <div class="footer-content">
            <div class="footer-info">
                <h3>LED Display Service</h3>
                <p>Профессиональные LED решения в Санкт-Петербурге</p>
            </div>
            <div class="footer-contact">
                <p><strong>Телефон:</strong> <a href="tel:+79214291702">+7 (921) 429-17-02</a></p>
                <p><strong>Email:</strong> <a href="mailto:info@led-display-spb.ru">info@led-display-spb.ru</a></p>
            </div>
        </div>
        <div class="footer-bottom">
            <p>&copy; 2025 Service 'n' Repair LED Display. Все права защищены.</p>
        </div>
    </div>
</footer>
{{end}}

{{template "public_base.html" .}}