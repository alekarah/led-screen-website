{{define "home-content"}}
<!-- Hero Section -->
<section class="hero led-effect">
    <div class="container">
        <h1>Уличные и интерьерные LED экраны для вашего бизнеса</h1>
        <p>Продажа, монтаж и обслуживание LED дисплеев</p>
        <a href="/contact" class="btn btn-hero">Получить консультацию</a>
    </div>
</section>

<!-- Services Section -->
<section class="services home-services">
    <div class="container">
        <h2>LED решения</h2>
        <div class="services-grid-2x2">
            <!-- Ряд 1 -->
            <div class="service-card">
                <h3>Продажа уличных и интерьерных экранов</h3>
                <p>Широкий выбор LED дисплеев для любых задач</p>
                <a href="tel:{{.sitePhone}}" class="service-btn">Получить консультацию</a>
            </div>
            <div class="service-card">
                <h3>Аренда уличных и интерьерных экранов</h3>
                <p>Аренда LED экранов для мероприятий и событий</p>
                <a href="/contact?service=rent" class="service-btn">Заказать экран на мероприятие</a>
            </div>
            <!-- Ряд 2 -->
            <div class="service-card">
                <h3>Размещение рекламы на экранах</h3>
                <p>Разместите свою рекламу на наших LED экранах</p>
                <a href="/contact?service=ad" class="service-btn">Отправить запрос на размещение</a>
            </div>
            <div class="service-card">
                <h3>Обслуживание LED экранов</h3>
                <p>Техническое обслуживание и ремонт LED дисплеев</p>
                <a href="tel:{{.sitePhone}}" class="service-btn">Вызвать специалиста</a>
            </div>
        </div>
    </div>
</section>

<!-- Projects Section -->
<section class="projects">
    <div class="container">
        <h2>Реализованные проекты</h2>
        <div class="home-projects-grid">
            {{range .projects}}
            <div class="home-project-card">
                {{if .Images}}
                    {{$primaryImg := primaryImage .Images}}
                    {{$thumbPath := getThumbnail $primaryImg "small"}}
                    {{$version := imgVersion $primaryImg}}
                    <div class="project-image-rect">
                        <img src="/static/uploads/{{$thumbPath}}?v={{$version}}"
                            alt="{{.Title}}"
                            loading="lazy"
                            {{if not $primaryImg.ThumbnailSmallPath}}
                            style="transform: scale({{if $primaryImg.CropScale}}{{$primaryImg.CropScale}}{{else}}1{{end}})
                                            translate({{mul (sub $primaryImg.CropX 50) 2}}%, {{mul (sub $primaryImg.CropY 50) 2}}%);
                                    object-position: center center;
                                    transform-origin: center center;"
                            {{end}}>
                    </div>
                {{else}}
                    <div class="project-image-rect">
                        <img src="/static/images/placeholder.jpg" alt="{{.Title}}" loading="lazy">
                    </div>
                {{end}}
                <div class="project-card-content">
                    <h3>{{.Title}}</h3>
                    {{if .Size}}
                    <div class="project-size">{{.Size}}</div>
                    {{end}}
                    <div class="project-bottom">
                        <div class="project-categories">
                            {{range .Categories}}
                            <span class="category-tag">{{.Name}}</span>
                            {{end}}
                        </div>
                        <a href="/projects#{{.Slug}}" class="project-detail-btn">
                            Подробнее
                        </a>
                    </div>
                </div>
            </div>
            {{end}}
        </div>
        <div class="see-all-projects-container">
            <a href="/projects" class="see-all-projects-btn">Больше проектов</a>
        </div>
    </div>
</section>

<!-- География работы -->
<section class="home-map-section">
    <div class="container">
        <h2>География работы</h2>
        <p class="home-map-description">Работаем по Санкт-Петербургу и Ленинградской области.<br>Объекты по всему региону — убедитесь сами.</p>
        <div class="map-container">
            <iframe id="contact-map-frame"
                    src="/static/map-frame.html"
                    style="width:100%;height:420px;border:none;display:block;"
                    data-points='{{if .mapPoints}}{{toJSON .mapPoints}}{{else}}[]{{end}}'>
            </iframe>
        </div>
    </div>
</section>
{{end}}

{{define "home-footer"}}
<footer class="simple-footer">
    <div class="container">
        <div class="footer-content">
            <div class="footer-info">
                <h3>Service 'n' Repair</h3>
                <p>Профессиональные LED решения в Санкт-Петербурге</p>
            </div>
            <div class="footer-contact">
                <p><strong>Телефон:</strong> <a href="tel:{{.sitePhone}}">{{.sitePhoneDisplay}}</a></p>
                <p><strong>Email:</strong> <a href="mailto:{{.siteEmail}}">{{.siteEmail}}</a></p>
            </div>
        </div>
        <div class="footer-bottom">
            <p>&copy; 2025 Service 'n' Repair LED Display. Все права защищены.</p>
        </div>
    </div>
</footer>
{{end}}