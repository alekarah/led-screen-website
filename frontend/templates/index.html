{{define "home-content"}}
<!-- Hero Section -->
<section class="hero led-effect">
    <div class="container">
        <h1>LED экраны для вашего бизнеса</h1>
        <p>Продажа, монтаж и обслуживание LED дисплеев в Санкт-Петербурге и Ленинградской области</p>
        <a href="/contact" class="btn btn-hero">Получить консультацию</a>
    </div>
</section>

<!-- Services Section -->
<section class="services home-services">
    <div class="container">
        <h2>Наши услуги</h2>
        <div class="services-grid">
            {{range .services}}
            <div class="service-card">
                <h3>{{.Name}}</h3>
                <p>{{.ShortDesc}}</p>
            </div>
            {{end}}
        </div>
    </div>
</section>

<!-- Projects Section -->
<section class="projects">
    <div class="container">
        <h2>Последние проекты</h2>
        <div class="home-projects-grid">
            {{range .projects}}
            <div class="home-project-card">
                {{if .Images}}
                    {{$primaryImg := primaryImage .Images}}
                    <div class="project-image-rect">
                        <img src="/static/uploads/{{$primaryImg.Filename}}"
                            alt="{{.Title}}"
                            loading="lazy"
                            style="transform: scale({{if $primaryImg.CropScale}}{{$primaryImg.CropScale}}{{else}}1{{end}})
                                            translate({{mul (sub $primaryImg.CropX 50) 2}}%, {{mul (sub $primaryImg.CropY 50) 2}}%);
                                    object-position: center center;
                                    transform-origin: center center;">
                    </div>
                {{else}}
                    <div class="project-image-rect">
                        <img src="/static/images/placeholder.jpg" alt="{{.Title}}" loading="lazy">
                    </div>
                {{end}}
                <div class="project-card-content">
                    <h3>{{.Title}}</h3>
                    {{if .Size}}
                    <div class="project-size">{{.Size}}</div>
                    {{end}}
                    <p>{{.Description}}</p>
                    {{if or .PixelPitch .Location}}
                    <div class="project-meta">
                        {{if .PixelPitch}}Пиксель: {{.PixelPitch}}{{end}}
                        {{if .Location}}<br>{{.Location}}{{end}}
                    </div>
                    {{end}}
                </div>
            </div>
            {{end}}
        </div>
        <div style="width: 100%; display: flex; justify-content: center; margin-top: 2rem;">
            <a href="/projects" class="see-all-projects-btn">Смотреть все проекты</a>
        </div>
    </div>
</section>
{{end}}

{{define "home-footer"}}
<footer class="simple-footer">
    <div class="container">
        <div class="footer-content">
            <div class="footer-info">
                <h3>Service 'n' Repair</h3>
                <p>Профессиональные LED решения в Санкт-Петербурге</p>
            </div>
            <div class="footer-contact">
                <p><strong>Телефон:</strong> <a href="tel:+79214291702">+7 (921) 429-17-02</a></p>
                <p><strong>Email:</strong> <a href="mailto:rudkin_ds@mail.ru">rudkin_ds@mail.ru</a></p>
            </div>
        </div>
        <div class="footer-bottom">
            <p>&copy; 2025 Service 'n' Repair LED Display. Все права защищены.</p>
        </div>
    </div>
</footer>
{{end}}