# üìù Coding Style Guide

–ö–ª—é—á–µ–≤—ã–µ —Å–æ–≥–ª–∞—à–µ–Ω–∏—è –æ —Å—Ç–∏–ª–µ –∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏—è –¥–ª—è –ø—Ä–æ–µ–∫—Ç–∞ LED Screen Website.

---

## üéØ –û—Å–Ω–æ–≤–Ω—ã–µ –ø—Ä–∏–Ω—Ü–∏–ø—ã

- **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å** - –≤—Å–µ–≥–¥–∞ –ø—Ä–æ–≤–µ—Ä—è–µ–º –æ—à–∏–±–∫–∏
- **–ß–∏—Ç–∞–µ–º–æ—Å—Ç—å** - –∫–æ–¥ –ø–æ–Ω—è—Ç–µ–Ω –±–µ–∑ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤
- **–ü—Ä–æ—Å—Ç–æ—Ç–∞** - –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç —è–≤–Ω–æ—Å—Ç–∏ –Ω–∞–¥ –∫—Ä–∞—Ç–∫–æ—Å—Ç—å—é

---

## üîß Error Handling - –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

### –ù–∞—à –ø–æ–¥—Ö–æ–¥: –û–ø–∏—Å–∞—Ç–µ–ª—å–Ω—ã–µ –∏–º–µ–Ω–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö

**–ü—Ä–æ–±–ª–µ–º–∞ Variable Shadowing –≤ Go:**

```go
// ‚ùå –ü–õ–û–•–û - variable shadowing
func BadExample() error {
    err := db.Connect()
    if err != nil {
        return err
    }

    // –ü–†–û–ë–õ–ï–ú–ê: —Å–æ–∑–¥–∞–µ—Ç—Å—è –ù–û–í–ê–Ø –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è err!
    if err := db.Migrate(); err != nil {
        return err
    }

    // –ó–¥–µ—Å—å err = –æ—à–∏–±–∫–∞ –æ—Ç Connect(), –∞ –Ω–µ –æ—Ç Migrate()!
    return err  // –ú–æ–∂–µ—Ç –≤–µ—Ä–Ω—É—Ç—å —Å—Ç–∞—Ä—É—é –æ—à–∏–±–∫—É
}
```

**–ù–∞—à–µ —Ä–µ—à–µ–Ω–∏–µ:**

```go
// ‚úÖ –•–û–†–û–®–û - —è–≤–Ω—ã–µ –∏–º–µ–Ω–∞
func GoodExample() error {
    if dbErr := db.Connect(); dbErr != nil {
        return fmt.Errorf("connect failed: %w", dbErr)
    }

    if migrateErr := db.Migrate(); migrateErr != nil {
        return fmt.Errorf("migrate failed: %w", migrateErr)
    }

    if saveErr := db.Save(&user); saveErr != nil {
        return fmt.Errorf("save failed: %w", saveErr)
    }

    return nil
}
```

### –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ –∏–º–µ–Ω–∞ –æ—à–∏–±–æ–∫

- `dbErr` - –æ—à–∏–±–∫–∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
- `parseErr` - –æ—à–∏–±–∫–∏ –ø–∞—Ä—Å–∏–Ω–≥–∞
- `validateErr` - –æ—à–∏–±–∫–∏ –≤–∞–ª–∏–¥–∞—Ü–∏–∏
- `readErr` / `saveErr` - –æ—à–∏–±–∫–∏ —á—Ç–µ–Ω–∏—è/—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è
- `httpErr` - HTTP –æ—à–∏–±–∫–∏

### –ü–æ—á–µ–º—É —Ç–∞–∫?

**–ü–ª—é—Å—ã –Ω–∞—à–µ–≥–æ –ø–æ–¥—Ö–æ–¥–∞:**
- ‚úÖ –õ–∏–Ω—Ç–µ—Ä –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ª–æ–≤–∏—Ç shadowing
- ‚úÖ –°—Ä–∞–∑—É –≤–∏–¥–Ω–æ –æ—Ç–∫—É–¥–∞ –æ—à–∏–±–∫–∞
- ‚úÖ –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å > –∫—Ä–∞—Ç–∫–æ—Å—Ç—å
- ‚úÖ CI/CD –ø—Ä–æ—Ö–æ–¥–∏—Ç –±–µ–∑ –Ω–∞—Å—Ç—Ä–æ–µ–∫

**–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞ (–±–æ–ª—å—à–∏–µ –ø—Ä–æ–µ–∫—Ç—ã):**

```go
// Kubernetes, Docker –∏—Å–ø–æ–ª—å–∑—É—é—Ç:
func BigProjectStyle() error {
    var err error  // –û–¥–∏–Ω —Ä–∞–∑

    err = db.Connect()
    if err != nil {
        return err
    }

    err = db.Migrate()
    return err
}
```

–ú—ã **–ù–ï** –∏—Å–ø–æ–ª—å–∑—É–µ–º —ç—Ç–æ, –ø–æ—Ç–æ–º—É —á—Ç–æ:
- –¢—Ä–µ–±—É–µ—Ç –¥–∏—Å—Ü–∏–ø–ª–∏–Ω—ã –∫–æ–º–∞–Ω–¥—ã
- –ù—É–∂–Ω–æ –æ—Ç–∫–ª—é—á–∞—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É shadowing
- –ò–∑–ª–∏—à–Ω–µ –¥–ª—è solo/—Å—Ä–µ–¥–Ω–µ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞

**–ö–æ–≥–¥–∞ –º–æ–∂–Ω–æ –ø–æ–º–µ–Ω—è—Ç—å:**
- –ü—Ä–æ–µ–∫—Ç > 50k —Å—Ç—Ä–æ–∫
- –ö–æ–º–∞–Ω–¥–∞ 5+ Go-—Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤
- –í—Å–µ —Å–ª–µ–¥—É—é—Ç –µ–¥–∏–Ω–æ–º—É —Å—Ç–∏–ª—é

---

## üìù –ß–µ–∫–ª–∏—Å—Ç –ø–µ—Ä–µ–¥ –∫–æ–º–º–∏—Ç–æ–º

–ü—Ä–æ–≤–µ—Ä—å—Ç–µ:

- [ ] –í—Å–µ –æ—à–∏–±–∫–∏ –æ–±—Ä–∞–±–æ—Ç–∞–Ω—ã (–Ω–µ—Ç –∏–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞–Ω–∏—è `err`)
- [ ] –ù–µ—Ç variable shadowing (—Ä–∞–∑–Ω—ã–µ –∏–º–µ–Ω–∞: dbErr, saveErr)
- [ ] –ò–º–ø–æ—Ä—Ç—ã –æ—Ç—Å–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω—ã (stdlib ‚Üí internal ‚Üí external)
- [ ] –§—É–Ω–∫—Ü–∏–∏ < 70 —Å—Ç—Ä–æ–∫
- [ ] –ü—É–±–ª–∏—á–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –∏–º–µ—é—Ç –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏
- [ ] –ö–æ–¥ –æ—Ç—Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω (`go fmt ./...`)
- [ ] –õ–∏–Ω—Ç–µ—Ä –Ω–µ —Ä—É–≥–∞–µ—Ç—Å—è (`golangci-lint run ./...`)
- [ ] –¢–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç (`go test ./...`)

**–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞:**

```bash
# Windows
.\check-code.ps1

# Linux/macOS/Git Bash
./check-code.sh
```

---

## üîç –õ–∏–Ω—Ç–µ—Ä

–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –≤ [.golangci.yml](../.golangci.yml):

```yaml
linters:
  enable:
    - errcheck      # –ù–µ–æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã–µ –æ—à–∏–±–∫–∏
    - govet         # Variable shadowing
    - gosimple      # –£–ø—Ä–æ—â–µ–Ω–∏–µ –∫–æ–¥–∞
    - staticcheck   # –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π –∞–Ω–∞–ª–∏–∑
    - gofmt         # –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
    - goimports     # –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –∏–º–ø–æ—Ä—Ç–æ–≤
```

**–£—Å—Ç–∞–Ω–æ–≤–∫–∞:**
```bash
go install github.com/golangci/golangci-lint/cmd/golangci-lint@latest
```

**–ó–∞–ø—É—Å–∫:**
```bash
cd backend
golangci-lint run ./...
```

---

## üìö –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ

–ü–æ–ª–Ω—ã–µ –≥–∞–π–¥—ã –ø–æ Go:
- [Effective Go](https://go.dev/doc/effective_go) - –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–π –≥–∞–π–¥
- [Uber Go Style Guide](https://github.com/uber-go/guide/blob/master/style.md) - –¥–µ—Ç–∞–ª—å–Ω—ã–π —Å—Ç–∏–ª—å

–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø—Ä–æ–µ–∫—Ç–∞:
- [LOCAL_CHECKS.md](LOCAL_CHECKS.md) - –õ–æ–∫–∞–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–¥–∞
- [TESTING.md](TESTING.md) - –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

---

**–ì–ª–∞–≤–Ω–æ–µ –ø—Ä–∞–≤–∏–ª–æ:** –ö–æ–¥ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –ø–æ–Ω—è—Ç–µ–Ω —á–µ—Ä–µ–∑ 6 –º–µ—Å—è—Ü–µ–≤! ‚ú®

**–í–µ—Ä—Å–∏—è:** 2.0 (–∫—Ä–∞—Ç–∫–∞—è)
**–î–∞—Ç–∞:** –ù–æ—è–±—Ä—å 2025
